<div class="container" style="max-width: 400px; margin-top: 1rem;">
  <h2>Registro de Usuario</h2>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    
    <mat-form-field appearance="fill" class="full-width mb-3">
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="name" />
      <mat-error *ngIf="f['name'].invalid && f['name'].touched">El nombre es requerido.</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width mb-3">
      <mat-label>Email</mat-label>
      <input matInput type="email" formControlName="email" />
      <mat-error *ngIf="f['email'].invalid && f['email'].touched">Introduce un email válido.</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width mb-3">
      <mat-label>Contraseña</mat-label>
      <input matInput type="password" formControlName="password" />
      <mat-error *ngIf="f['password'].invalid && f['password'].touched">La contraseña es requerida.</mat-error>
    </mat-form-field>

    <button mat-raised-button class="full-width" [disabled]="loading">
      <ng-container *ngIf="!loading">Registrar</ng-container>
      <mat-progress-spinner
        *ngIf="loading"
        diameter="24"
        mode="indeterminate"
        color="accent"
      ></mat-progress-spinner>
    </button>

  </form>

  <div *ngIf="errorMessage" class="mt-3" style="color: red;">
    {{ errorMessage }}
  </div>
</div>
